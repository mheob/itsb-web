---
import { Icon } from "astro-icon/components";
import type { Contact } from "@/types/contact";
import ContactLink from "./ContactLink.svelte";

type Props = Contact;

const { icon, header, text, anchor } = Astro.props;
---

<div class="contact-details">
	<div class="icon">
		<Icon name={icon} />
	</div>
	<div class="content">
		<h4>{header}</h4>
		<p>{text}</p>
		<div>
			<ContactLink
				protocol={anchor.protocol}
				href={anchor.href}
				title={anchor.title}
				client:visible
			/>
		</div>
	</div>
</div>

<style>
	.contact-details {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 1rem;
		flex-basis: 100%;
		margin: 0 1.5rem;
		text-align: center;

		&:not(:last-of-type) {
			padding-bottom: 2.5rem;
			border-bottom: 1px solid
				color-mix(in srgb, var(--primary) 10%, transparent);
		}

		&:not(:first-of-type) {
			padding-top: 2rem;
		}

		@media (min-width: 900px) {
			flex: 1;
			margin: inherit;

			&:not(:last-of-type) {
				padding-bottom: inherit;
				border: inherit;
			}

			&:not(:first-of-type) {
				padding-top: inherit;
			}
		}
	}

	.icon {
		color: var(--primary);
		font-size: 3rem;
	}

	.content {
		h4 {
			margin-bottom: 1.25rem;
			color: var(--primary);
			font-weight: 500;
			font-size: 0.875rem;
			letter-spacing: 3px;
			text-transform: uppercase;
		}

		p {
			max-width: 15rem;
			margin: 0 auto 1rem;
			font-weight: 500;
			font-size: 0.875rem;
		}
	}
</style>
